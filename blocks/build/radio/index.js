!function(){var e={184:function(e,t){var l;!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var o=typeof l;if("string"===o||"number"===o)e.push(l);else if(Array.isArray(l)){if(l.length){var r=a.apply(null,l);r&&e.push(r)}}else if("object"===o){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){e.push(l.toString());continue}for(var n in l)i.call(l,n)&&l[n]&&e.push(n)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(l=function(){return a}.apply(t,[]))||(e.exports=l)}()}},t={};function l(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,l),o.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"hizzle-forms/radio","title":"Radio field","description":"A radio field input for forms.","category":"hizzle-forms","keywords":["form","contact","radio","multi-checkbox"],"icon":"editor-justify","parent":["hizzle-forms/form"],"version":"1.0.0","textdomain":"hizzle-forms","attributes":{"label":{"type":"string","default":"","source":"html","selector":".hizzle-forms__field-label"},"help":{"type":"string","default":"","source":"html","selector":".hizzle-forms__field-help-text"},"instanceID":{"type":"string"},"name":{"type":"string"},"validation":{"type":"array"},"isRadio":{"type":"boolean","default":true}},"example":{"attributes":{"label":"Radio field","validation":[{"name":"required"}],"help":"This is a radio field.","isRadio":true},"innerBlocks":[{"name":"hizzle-forms/radio-option","attributes":{"option":"First Option","selected":true}},{"name":"hizzle-forms/radio-option","attributes":{"option":"Second Option"}},{"name":"hizzle-forms/radio-option","attributes":{"option":"Third Option"}}]},"styles":[{"name":"hizzle-1-6","label":"1/6"},{"name":"hizzle-2-6","label":"2-6"},{"name":"hizzle-3-6","label":"3-6"},{"name":"hizzle-4-6","label":"4-6"},{"name":"hizzle-5-6","label":"5/6"},{"name":"hizzle-full","label":"Full Width","isDefault":true}],"supports":{"anchor":true,"spacing":{"margin":true,"padding":true},"reusable":false},"editorScript":"file:./index.js"}'),t=window.wp.element,i=window.wp.blockEditor;function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},a.apply(this,arguments)}var o=l(184),r=l.n(o),n=window.lodash,s=window.wp.i18n,m=window.wp.components,c=e=>{let{attributes:l,hidePlaceholder:a,hasOptions:o,setAttributes:r}=e;const n=l.name&&l.name.length>0;if(!o&&a&&!n)return null;const c=l.options?l.options.join("\n"):"";return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.InspectorControls,null,(0,t.createElement)(m.PanelBody,{title:(0,s.__)("General","hizzle-forms")},(0,t.createElement)(m.TextControl,{label:(0,s.__)("Merge Tag","hizzle-forms"),value:`{${l.name}}`,onClick:e=>e.target.select(),help:(0,s.__)("Use this merge tag to display this field's value in your emails, response message and redirect URL.","hizzle-forms"),readOnly:!0}),o&&(0,t.createElement)(m.TextareaControl,{label:(0,s.__)("Options","hizzle-forms"),value:c,onChange:e=>{r({options:e.split("\n")})},help:(0,s.__)('Enter each option on a new line. For example, "Option 1" and "Option 2" will be displayed as a dropdown with two options.',"hizzle-forms")}),!a&&(0,t.createElement)(m.TextControl,{label:(0,s.__)("Placeholder text","hizzle-forms"),value:l.placeholder||"",onChange:e=>r({placeholder:e}),help:(0,s.__)("Show visitors an example of the type of content expected. Otherwise, leave blank.","hizzle-forms")}))))};const d={name:"required",label:(0,s.__)("Required","hizzle-forms"),checkboxLabel:(0,s.__)("Is this field required?","hizzle-forms"),defaultMessage:(0,s.__)("This field is required.","hizzle-forms"),fieldTypes:["all"],edit:[]},h=(0,s.__)("Maximum date","hizzle-forms"),u={name:"maxdate",label:h,checkboxLabel:(0,s.__)("Set a maximum date?","hizzle-forms"),defaultMessage:(0,s.__)("The latest date allowed is {threshold}.","hizzle-forms"),fieldTypes:["date"],edit:[{name:"threshold",type:"date",label:h}]},f=(0,s.__)("Minimum date","hizzle-forms"),p={name:"mindate",label:f,checkboxLabel:(0,s.__)("Set a minimum date?","hizzle-forms"),defaultMessage:(0,s.__)("The earliest date allowed is {threshold}.","hizzle-forms"),fieldTypes:["date"],edit:[{name:"threshold",type:"date",label:f}]},z=(0,s.__)("Maximum number","hizzle-forms"),b={name:"maxnumber",label:z,checkboxLabel:(0,s.__)("Set a maximum number?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at most {threshold}.","hizzle-forms"),fieldTypes:["number"],edit:[{name:"threshold",type:"number",label:z}]},_=(0,s.__)("Minimum number","hizzle-forms"),g={name:"minnumber",label:_,checkboxLabel:(0,s.__)("Set a minimum number?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at least {threshold}.","hizzle-forms"),fieldTypes:["number"],edit:[{name:"threshold",type:"number",label:_}]},y=(0,s.__)("Maximum items","hizzle-forms"),v={name:"maxitems",label:y,checkboxLabel:(0,s.__)("Set a maximum number of selectable items?","hizzle-forms"),defaultMessage:(0,s.__)("You must select at most {threshold} items.","hizzle-forms"),fieldTypes:["array"],edit:[{name:"threshold",type:"number",label:y}]},x=(0,s.__)("Minimum items","hizzle-forms"),E={name:"minitems",label:x,checkboxLabel:(0,s.__)("Set a minimum number of selectable items?","hizzle-forms"),defaultMessage:(0,s.__)("You must select at least {threshold} items.","hizzle-forms"),fieldTypes:["array"],edit:[{name:"threshold",type:"number",label:x}]},k=(0,s.__)("Maximum length","hizzle-forms"),T={name:"maxlength",label:k,checkboxLabel:(0,s.__)("Set a maximum length?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at most {threshold} characters long.","hizzle-forms"),fieldTypes:["text"],edit:[{name:"threshold",type:"number",label:k}]},w=(0,s.__)("Minimum length","hizzle-forms");var R=[d,p,u,g,b,E,v,{name:"minlength",label:w,checkboxLabel:(0,s.__)("Set a minimum length?","hizzle-forms"),defaultMessage:(0,s.__)("The value must be at least {threshold} characters long.","hizzle-forms"),fieldTypes:["text"],edit:[{name:"threshold",type:"number",label:w}]},T];function C(e){let{attributes:l,setAttributes:i,fieldType:o}=e;const r=(0,t.useMemo)((()=>R.filter((e=>e.fieldTypes.includes(o)||e.fieldTypes.includes("all")))),[o]),n=l.validation||[];if((0,t.useEffect)((()=>{const e=[],t=!1;n.forEach((l=>{r.some((e=>e.name===l.name))?e.push(l):t=!0})),t&&i({validation:e})}),[r]),!r.length)return null;const s=e=>{i({validation:e})};return(0,t.createElement)(t.Fragment,null,r.map((e=>(0,t.createElement)(O,a({key:e.name},e,{setRules:s,addedRules:n})))))}const O=e=>{let{label:l,checkboxLabel:a,name:o,defaultMessage:r,edit:n,setRules:c,addedRules:d}=e;const h=d.some((e=>e.name===o)),[u,f]=(0,t.useState)(h?d.find((e=>e.name===o)):{name:o}),p=(e,t)=>{const l={...u};if(l[e]=t,f(l),h){const e=[...d],t=e.findIndex((e=>e.name===o));e[t]=l,c(e)}};return(0,t.createElement)(i.InspectorControls,null,(0,t.createElement)(m.PanelBody,{title:l,initialOpen:!1},(0,t.createElement)(m.ToggleControl,{label:a,checked:h,onChange:e=>{const t=[...d];if(e)h||t.push(u);else{const e=t.findIndex((e=>e.name===o));t.splice(e,1)}c(t)}}),h&&(0,t.createElement)(t.Fragment,null,n.map(((e,l)=>(0,t.createElement)(S,{key:l,edit:e,rule:u,onChange:t=>p(e.name,t)}))),(0,t.createElement)(S,{edit:{name:"errorMessage",type:"text",label:(0,s.__)("Error message","hizzle-forms"),help:(0,s.__)("Optional. The error message to display when this rule fails.","hizzle-forms"),placeholder:r},rule:u,onChange:e=>p("errorMessage",e)}))))},S=e=>{let{edit:l,rule:i,onChange:o}=e;const{type:r,name:n,...s}=l;switch(r){case"toggle":return(0,t.createElement)(m.ToggleControl,a({},s,{checked:!!i[n]&&i[n],onChange:o}));case"select":return(0,t.createElement)(m.SelectControl,a({},s,{value:i[n]?i[n]:"",onChange:o}));default:return(0,t.createElement)(m.TextControl,a({},s,{value:i[n]?i[n]:"",onChange:o}))}};function A(e){let{attributes:l,setAttributes:o,disableLabel:m,disableHelpText:d,children:h,className:u,isSelected:f,fieldType:p,...z}=e;const b=!d&&(f||!(0,n.isEmpty)(l.help)),_=!m&&(f||!(0,n.isEmpty)(l.label));return(0,t.createElement)("div",(0,i.useBlockProps)({className:r()("hizzle-forms-field",u)}),_&&(0,t.createElement)(i.RichText,{tagName:"label",value:l.label,className:"hizzle-forms__field-label",onChange:e=>{o({label:e})},placeholder:(0,s.__)("Add label…","hizzle-forms")}),h,b&&(0,t.createElement)(i.RichText,{tagName:"p",value:l.help,className:"hizzle-forms__field-help-text",onChange:e=>o({help:e}),placeholder:(0,s.__)("Add help text…","hizzle-forms")}),(0,t.createElement)(c,a({setAttributes:o,attributes:l},z)),(0,t.createElement)(C,{setAttributes:o,attributes:l,fieldType:p}))}const M=[["hizzle-forms/radio-option",{option:"First Option",selected:!0}],["hizzle-forms/radio-option",{option:"Second Option"}],["hizzle-forms/radio-option",{option:"Third Option"}]];const N=e=>{let{label:l,instanceID:a}=e;return l?(0,t.createElement)(i.RichText.Content,{tagName:"label",className:"hizzle-forms__field-label",htmlFor:`hizzle-forms-field-${a}`,value:l}):null},I=e=>{let{help:l}=e;return l?(0,t.createElement)(i.RichText.Content,{tagName:"p",className:"hizzle-forms__field-help-text",value:l}):null};function B(e){let{attributes:l,children:a,className:o,customClass:n}=e;const s={className:r()("hizzle-forms-field",o,n),"data-instance-id":l.instanceID};Array.isArray(l.validation)&&l.validation.length>0&&(s["data-validation"]=JSON.stringify(l.validation));const m=i.useBlockProps.save(s);return(0,t.createElement)("div",m,(0,t.createElement)(N,{label:l.label,instanceID:l.instanceID}),a,(0,t.createElement)(I,{help:l.help}),(0,t.createElement)("div",{className:"hizzle-forms__field-error"}))}const F="#AA00FF",P=[{name:"hizzle-radio-input",isDefault:!0,title:(0,s.__)("Radio","hizzle-forms"),description:(0,s.__)("Add a radio select field to your form.","hizzle-forms"),keywords:[(0,s.__)("radio","hizzle-forms"),(0,s.__)("select","hizzle-forms")],category:"hizzle-forms",attributes:{isRadio:!0},icon:{src:"marker",foreground:F}},{name:"hizzle-checkbox-input",title:(0,s.__)("Multi Checkbox","hizzle-forms"),description:(0,s.__)("Add a checkbox select field to your form.","hizzle-forms"),keywords:[(0,s.__)("checkbox","hizzle-forms"),(0,s.__)("select","hizzle-forms")],category:"hizzle-forms",attributes:{isRadio:!1},icon:{src:"yes-alt",foreground:F}}];P.forEach((e=>{e.example={attributes:{label:(0,s.__)("Select an option","hizzle-forms"),validation:[{name:"required"}],help:(0,s.__)("This is a help text.","hizzle-forms"),isRadio:e.attributes.isRadio},innerBlocks:[{name:"hizzle-forms/radio-option",attributes:{option:"First Option",selected:!0}},{name:"hizzle-forms/radio-option",attributes:{option:"Second Option",selected:!0}},{name:"hizzle-forms/radio-option",attributes:{option:"Third Option",selected:!0}}]},e.isActive||(e.isActive=["isRadio"])}));var L=P,j=window.wp.blocks;function D(e,t){0!==e.indexOf("hizzle-forms/")&&(e="hizzle-forms/"+e),"string"==typeof t.icon&&(t.icon={src:t.icon,foreground:"#AA00FF"}),(0,j.registerBlockType)(e,t)}var $=window.wp.data;D("hizzle-forms/radio-option",{apiVersion:2,title:(0,s.__)("Radio Option","hizzle-forms"),icon:"marker",category:"hizzle-forms",parent:["hizzle-forms/radio"],attributes:{option:{type:"string",default:""},selected:{type:"boolean",default:!1},isRadio:{type:"boolean",default:!0},name:{type:"string",default:""}},supports:{anchor:!0,spacing:{margin:!0,padding:!0},reusable:!1},merge:(e,t)=>({...e,option:e.option+" "+t.option}),edit:e=>{let{clientId:l,onReplace:a,onRemove:o,mergeBlocks:r,attributes:c,setAttributes:d}=e;const{name:h,isRadio:u}=(e=>(0,$.useSelect)((t=>{const l=t("core/block-editor");return l.getBlockAttributes((0,n.first)(l.getBlockParents(e,!0)))})))(l),f=u?"radio":"checkbox",p=(0,i.useBlockProps)({className:`hizzle-forms__${f}-option`});return(0,t.useEffect)((()=>{h!==c.name&&d({name:h})}),[h]),(0,t.useEffect)((()=>{u!==c.isRadio&&d({isRadio:u})}),[u]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.BlockControls,null,(0,t.createElement)(m.ToolbarGroup,null,(0,t.createElement)(m.ToolbarButton,{icon:"yes",title:(0,s.__)("Selected","hizzle-forms"),isActive:c.selected,onClick:()=>d({selected:!c.selected})}))),(0,t.createElement)("div",p,(0,t.createElement)("input",{type:f,checked:c.selected,readOnly:!0}),(0,t.createElement)(i.RichText,{tagName:"label",identifier:"option",value:c.option,onChange:e=>d({option:e}),placeholder:(0,s.__)("Add option…","hizzle-forms"),onSplit:(e,t)=>{const i={...c,option:e};t||(i.selected=!1);const a=(0,j.createBlock)("hizzle-forms/radio-option",i);return t&&(a.clientId=l),a},onMerge:r,onReplace:a,onRemove:o,preserveWhiteSpace:!1})))},save:e=>{let{attributes:l}=e;const{option:a,selected:o,isRadio:r,name:n}=l,s=r?"radio":"checkbox",m=r?"":"[]",c=i.useBlockProps.save({className:`hizzle-forms__${s}-option`});return a?(0,t.createElement)("label",c,(0,t.createElement)("input",{type:s,name:`hizzle-forms[${n}]${m}`,value:a.replace(/(<([^>]+)>)/gi,""),checked:o}),(0,t.createElement)(i.RichText.Content,{tagName:"span",value:a})):null}});const{name:q,icon:G}=e;D(q,{icon:G,edit:e=>{let{attributes:l,setAttributes:a,clientId:o,isSelected:r}=e;(0,t.useEffect)((()=>{l.instanceID||a({instanceID:o})}),[]);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;let l=e.replace(/(<([^>]+)>)/gi,"");return l=e.replace(/[^a-z0-9]/gi,"_").toLowerCase(),l=l.replace(/_+/g,"_"),l=l.replace(/^_+|_+$/g,""),l||(l=t),l}(l.label,l.instanceID);(0,t.useEffect)((()=>{n!==l.name&&a({name:n})}),[n]);const s=l.isRadio?"other":"array";return(0,t.createElement)(A,{attributes:l,setAttributes:a,isSelected:r,fieldType:s,hidePlaceholder:!0},(0,t.createElement)("div",{className:"hizzle-forms__radio-options"},(0,t.createElement)(i.InnerBlocks,{allowedBlocks:["hizzle-forms/radio-option"],template:M})))},save:e=>{let{attributes:l}=e;const a=l.instanceID||"";return(0,t.createElement)(B,{attributes:l},(0,t.createElement)("div",{className:"hizzle-forms__radio-options",id:`hizzle-forms-field-${a}`},(0,t.createElement)(i.InnerBlocks.Content,null)))},variations:L})}()}();